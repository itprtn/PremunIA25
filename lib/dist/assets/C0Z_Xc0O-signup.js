import{j as e}from"./dfWdBlna-chunk.js";import{r as s}from"./Dc2Emx3F-chunk.js";import{C as r,m as a,n as t,v as i,a as n,r as c,I as l,A as o,p as m,B as d,s as u}from"./lYxdVFoR.js";import{u as p,L as h}from"./DHnlrK-p-chunk.js";import"./BpqZfnrR-chunk.js";import"./7YIM3tny-chunk.js";import"./Bo41tin1-chunk.js";function j(){const[j,x]=s.useState(""),[v,f]=s.useState(""),[g,y]=s.useState(""),[w,N]=s.useState(!1),[C,b]=s.useState(""),S=p();return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:e.jsxs(r,{className:"w-full max-w-md",children:[e.jsxs(a,{className:"text-center",children:[e.jsx(t,{className:"text-2xl font-bold",children:"Inscription"}),e.jsx(i,{children:"Créez votre compte CRM"})]}),e.jsxs(n,{children:[e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),N(!0),b(""),v!==g)return b("Les mots de passe ne correspondent pas"),void N(!1);try{const{data:e,error:s}=await u.auth.signUp({email:j,password:v});s?b(s.message):e.user&&(b("Compte créé avec succès ! Vérifiez votre email pour confirmer votre compte."),setTimeout(()=>S("/login"),3e3))}catch(s){b("Une erreur est survenue lors de l'inscription")}finally{N(!1)}},className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"email",children:"Email"}),e.jsx(l,{id:"email",type:"email",placeholder:"votre.email@exemple.com",value:j,onChange:e=>x(e.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"password",children:"Mot de passe"}),e.jsx(l,{id:"password",type:"password",value:v,onChange:e=>f(e.target.value),required:!0,minLength:6})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"confirmPassword",children:"Confirmer le mot de passe"}),e.jsx(l,{id:"confirmPassword",type:"password",value:g,onChange:e=>y(e.target.value),required:!0,minLength:6})]}),C&&e.jsx(o,{variant:C.includes("succès")?"default":"destructive",children:e.jsx(m,{children:C})}),e.jsx(d,{type:"submit",className:"w-full",disabled:w,children:w?"Création...":"Créer un compte"})]}),e.jsxs("div",{className:"mt-4 text-center text-sm",children:["Déjà un compte ?"," ",e.jsx(h,{to:"/login",className:"text-primary hover:underline",children:"Se connecter"})]})]})]})})}export{j as default};
